<div class="page-header">
    <h3>{{recipe.title}}</h3>
</div>
<span ng-show="recipe.ingredients">
{{user}}
    Ingredients:
    {{recipe.ingredients}}</span>

<div ng-repeat="comment in recipe.comments | orderBy:'-upvotes'">
    <span class="glyphicon glyphicon-thumbs-up" ng-show="isLoggedIn()" ng-click="incrementUpvotes(comment)"></span>
    {{comment.upvotes}}
    - by
    <a href="/#/user/{{comment.author}}">{{comment.author}}</a>
    <span style="font-size:20px; margin-left:10px;">
        {{comment.body}}
    </span>
</div>

<form ng-submit="addComment()" ng-show="isLoggedIn()" style="margin-top:30px;">

    <div ng-hide="isLoggedIn()">
        <h3>You need to
            <a href="/#/login">Log In</a>
            or
            <a href="/#/register">Register</a>
            before you can comment.</h3>
    </div>

    <h3>Add a new comment</h3>

    <div class="form-group">
        <input type="text" class="form-control" placeholder="Comment" ng-model="body"></input>
    </div>
    <button type="submit" class="btn btn-primary">recipe</button>
</form>


<button ng-click="deleteRecipe()">Delete</button>


<md-button class="md-icon-button md-primary" aria-label="FAVORITE" ng-click="favorite()">
  <md-icon md-font-library="material-icons" style="color:red; font-size: 30px">{{mdfavorite}}</md-icon>
</md-button></div>{{recipe.favorites}}

<md-list>
  <md-list-item class="md-2-line" ng-repeat="comment in recipe.comments">
    <md-button class="md-icon-button md-primary" aria-label="FAVORITE" ng-click="incrementUpvotes(comment)">  {{comment.upvotes}}</md-button>
    <div class="md-list-item-text">
      <h3>{{comment.body}}</h3> - by: <a href="/#/user/{{comment.author}}">{{comment.author}}</a>
    </div>
  </md-list-item>
</md-list>

<md-input-container>
  <label>Username</label>
  <input type="text" ng-model="user.name">
</md-input-container>

<h4>Upload on file select</h4>

    <button ngf-select="uploadFiles($files)" multiple
            accept="image/*">Select Files</button>
    <br>
    <br>Files:
    <ul>
        <li ng-repeat="f in files" style="font:smaller">
            {{f.name}}
        </li>
    </ul>
    <span class="progress" ng-show="progress >= 0">
        <div style="width:{{progress}}%" ng-bind="progress + '%'"></div>
    </span>
    {{errorMsg}}
